global:
  resolve_timeout: 5m

# The root route on which each incoming alert enters.
route:
  group_by: ["alertname", "cluster", "service"]
  group_wait: 30s
  group_interval: 5m
  repeat_interval: 15m
  receiver: keep

  # Define specific routes based on alert severity
  routes:
    - match:
        severity: critical
      receiver: keep
      group_wait: 10s
      group_interval: 2m
      repeat_interval: 5m
    - match:
        severity: warning
      receiver: keep
      group_wait: 10s
      group_interval: 2m
      repeat_interval: 5m

receivers:
  - name: "keep"
    webhook_configs:
      - url: "https://keep.local.antnsn.dev/v2/alerts/event/prometheus?provider_id=1a13103d7e4143f4ab459fa6e2c94a20"
        send_resolved: true
        http_config:
          basic_auth:
            username: api_key
            password: 1feeea85-beb2-47e3-b310-bc86f276a83b
